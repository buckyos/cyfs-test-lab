"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TaskMain = void 0;
const base_1 = require("../../base");
const labAgent_1 = require("../../taskTools/rust-bdt/labAgent");
const bdtRunner_1 = require("../../taskTools/rust-bdt/bdtRunner");
const type_1 = require("../../taskTools/rust-bdt/type");
async function TaskMain(_interface) {
    let testcaseName = "NDN_AllEP_ChannelSelect";
    let agentList = [];
    let taskList = [];
    let testAgent = [
        labAgent_1.labAgent.PC_0005,
        labAgent_1.labAgent.PC_0006,
        labAgent_1.labAgent.PC_0007,
        labAgent_1.labAgent.PC_0008,
        labAgent_1.labAgent.PC_0009,
        labAgent_1.labAgent.PC_0010,
        labAgent_1.labAgent.PC_0011,
        labAgent_1.labAgent.PC_0012,
        labAgent_1.labAgent.PC_0013,
        labAgent_1.labAgent.PC_0014,
        labAgent_1.labAgent.PC_0015,
        labAgent_1.labAgent.PC_0016,
        labAgent_1.labAgent.PC_0017,
        labAgent_1.labAgent.PC_0018,
    ];
    let firstQA_answer = "";
    agentList = agentList.concat(await labAgent_1.InitAgentData(testAgent, { ipv4: { udp: true, tcp: true }, ipv6: { udp: true, tcp: true } }, "info", 1, labAgent_1.LabSnList, {}, firstQA_answer, "SN_Resp" /* all */));
    for (let i in agentList) {
        for (let j in agentList) {
            if (i != j) {
                // NAT穿透
                if (agentList[i].NAT + agentList[j].NAT < 5 || labAgent_1.SameRouter(agentList[i].router, agentList[j].router)) {
                    taskList.push({
                        LN: { name: `${testAgent[i].tags[0]}_0`, type: testAgent[i].type },
                        RN: { name: `${testAgent[j].tags[0]}_0`, type: testAgent[j].type },
                        timeout: 5 * 60 * 1000,
                        expect_status: type_1.BDTERROR.success,
                        action: [
                            // 建立连接
                            {
                                LN: { name: `${testAgent[i].tags[0]}_0`, type: testAgent[i].type },
                                RN: { name: `${testAgent[j].tags[0]}_0`, type: testAgent[j].type },
                                type: "connect" /* connect */,
                                config: {
                                    conn_tag: "connect_frist",
                                    timeout: 30 * 1000,
                                },
                                fileSize: 0,
                                expect: { err: type_1.BDTERROR.success }
                            },
                            // LN 从 RN 下载
                            {
                                LN: { name: `${testAgent[i].tags[0]}_0`, type: testAgent[i].type },
                                RN: { name: `${testAgent[j].tags[0]}_0`, type: testAgent[j].type },
                                type: "send-file" /* send_file */,
                                config: {
                                    timeout: 30 * 1000,
                                },
                                fileSize: 10 * 1024 * 1024,
                                chunkSize: 4,
                                expect: { err: type_1.BDTERROR.success }
                            },
                            // RN 从 LN 下载
                            {
                                RN: { name: `${testAgent[i].tags[0]}_0`, type: testAgent[i].type },
                                LN: { name: `${testAgent[j].tags[0]}_0`, type: testAgent[j].type },
                                type: "send-file" /* send_file */,
                                config: {
                                    timeout: 30 * 1000,
                                },
                                fileSize: 10 * 1024 * 1024,
                                chunkSize: 4,
                                expect: { err: type_1.BDTERROR.success }
                            },
                        ]
                    });
                }
            }
        }
    }
    await base_1.sleep(2000);
    let testRunner = new bdtRunner_1.TestRunner(_interface);
    let testcase = {
        TestcaseName: testcaseName,
        testcaseId: `${testcaseName}_${Date.now()}`,
        remark: `# 操作流程：\n
        + (1) LN、RN 初始化协议栈
        + (2) LN track上传一个10Mb文件，RN 进行Interest
        + (3) RN track上传一个10Mb文件，LN 进行Interest\n`,
        environment: "lab",
        agentList,
        taskList,
        taskMult: 10
    };
    await testRunner.testCaseRunner(testcase);
}
exports.TaskMain = TaskMain;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub2RlLXRlc3Rlci1hcHAvdGFza3NfQkRUX05ETi9ORE5fQWxsRVBfQ2hhbm5lbFNlbGVjdC9vbmxvYWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscUNBQXlLO0FBQ3pLLGdFQUFxRztBQUNyRyxrRUFBNEU7QUFDNUUsd0RBQThGO0FBS3ZGLEtBQUssVUFBVSxRQUFRLENBQUMsVUFBK0I7SUFDMUQsSUFBSSxZQUFZLEdBQUcseUJBQXlCLENBQUE7SUFDNUMsSUFBSSxTQUFTLEdBQWdCLEVBQUUsQ0FBQztJQUNoQyxJQUFJLFFBQVEsR0FBaUIsRUFBRSxDQUFDO0lBQ2hDLElBQUksU0FBUyxHQUFtQjtRQUM1QixtQkFBUSxDQUFDLE9BQU87UUFDaEIsbUJBQVEsQ0FBQyxPQUFPO1FBQ2hCLG1CQUFRLENBQUMsT0FBTztRQUNoQixtQkFBUSxDQUFDLE9BQU87UUFDaEIsbUJBQVEsQ0FBQyxPQUFPO1FBQ2hCLG1CQUFRLENBQUMsT0FBTztRQUNoQixtQkFBUSxDQUFDLE9BQU87UUFDaEIsbUJBQVEsQ0FBQyxPQUFPO1FBQ2hCLG1CQUFRLENBQUMsT0FBTztRQUNoQixtQkFBUSxDQUFDLE9BQU87UUFDaEIsbUJBQVEsQ0FBQyxPQUFPO1FBQ2hCLG1CQUFRLENBQUMsT0FBTztRQUNoQixtQkFBUSxDQUFDLE9BQU87UUFDaEIsbUJBQVEsQ0FBQyxPQUFPO0tBQ25CLENBQUE7SUFDRCxJQUFJLGNBQWMsR0FBRSxFQUFFLENBQUM7SUFDdkIsU0FBUyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSx3QkFBYSxDQUFDLFNBQVMsRUFBQyxFQUFDLElBQUksRUFBQyxFQUFDLEdBQUcsRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLElBQUksRUFBQyxFQUFDLElBQUksRUFBQyxFQUFDLEdBQUcsRUFBQyxJQUFJLEVBQUMsR0FBRyxFQUFDLElBQUksRUFBQyxFQUFDLEVBQUMsTUFBTSxFQUFDLENBQUMsRUFBQyxvQkFBUyxFQUFD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QUMsQ0FBQyxJQUFJLEVBQUM7Z0NBQzlELEVBQUUsRUFBQyxFQUFDLElBQUksRUFBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBQyxJQUFJLEVBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBQztnQ0FDOUQsSUFBSSw2QkFBcUI7Z0NBQ3pCLE1BQU0sRUFBQztvQ0FDSCxPQUFPLEVBQUcsRUFBRSxHQUFDLElBQUk7aUNBQ3BCO2dDQUNELFFBQVEsRUFBRyxFQUFFLEdBQUMsSUFBSSxHQUFDLElBQUk7Z0NBQ3ZCLFNBQVMsRUFBRyxDQUFDO2dDQUNiLE1BQU0sRUFBQyxFQUFDLEdBQUcsRUFBQyxlQUFRLENBQUMsT0FBTyxFQUFDOzZCQUNoQzt5QkFDSjtxQkFDSixDQUNKLENBQUE7aUJBQ0o7YUFDSjtTQUNKO0tBQ0o7SUFHRCxNQUFNLFlBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixJQUFJLFVBQVUsR0FBRyxJQUFJLHNCQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDNUMsSUFBSSxRQUFRLEdBQVk7UUFDcEIsWUFBWSxFQUFDLFlBQVk7UUFDekIsVUFBVSxFQUFHLEdBQUcsWUFBWSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRTtRQUM1QyxNQUFNLEVBQUc7OztpREFHZ0M7UUFDekMsV0FBVyxFQUFHLEtBQUs7UUFDbkIsU0FBUztRQUNULFFBQVE7UUFDUixRQUFRLEVBQUMsRUFBRTtLQUNkLENBQUE7SUFFRCxNQUFNLFVBQVUsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDOUMsQ0FBQztBQWhHRCw0QkFnR0MiLCJmaWxlIjoidGFza3NfQkRUX05ETi9ORE5fQWxsRVBfQ2hhbm5lbFNlbGVjdC9vbmxvYWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Vycm9yQ29kZSwgTmV0RW50cnksIE5hbWVzcGFjZSwgQWNjZXNzTmV0VHlwZSwgQnVmZmVyUmVhZGVyLCBMb2dnZXIsIFRhc2tDbGllbnRJbnRlcmZhY2UsIENsaWVudEV4aXRDb2RlLCBCdWZmZXJXcml0ZXIsIFJhbmRvbUdlbmVyYXRvcixzbGVlcH0gZnJvbSAnLi4vLi4vYmFzZSc7XHJcbmltcG9ydCB7bGFiQWdlbnQsTGFiU25MaXN0LEluaXRBZ2VudERhdGEsUE5UeXBlLFNhbWVSb3V0ZXJ9IGZyb20gJy4uLy4uL3Rhc2tUb29scy9ydXN0LWJkdC9sYWJBZ2VudCc7XHJcbmltcG9ydCB7VGVzdFJ1bm5lcixUZXN0Y2FzZSxUYXNrfSBmcm9tICcuLi8uLi90YXNrVG9vbHMvcnVzdC1iZHQvYmR0UnVubmVyJztcclxuaW1wb3J0IHsgQkRURVJST1IsQWdlbnQsdGFza1R5cGUsUmVzcF9lcF90eXBlLEFnZW50RGF0YX0gZnJvbSAnLi4vLi4vdGFza1Rvb2xzL3J1c3QtYmR0L3R5cGUnO1xyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFRhc2tNYWluKF9pbnRlcmZhY2U6IFRhc2tDbGllbnRJbnRlcmZhY2UpIHtcclxuICAgIGxldCB0ZXN0Y2FzZU5hbWUgPSBcIk5ETl9BbGxFUF9DaGFubmVsU2VsZWN0XCJcclxuICAgIGxldCBhZ2VudExpc3Q6QXJyYXk8QWdlbnQ+ID0gW107XHJcbiAgICBsZXQgdGFza0xpc3QgOiBBcnJheTxUYXNrPiA9IFtdO1xyXG4gICAgbGV0IHRlc3RBZ2VudDpBcnJheTxBZ2VudERhdGE+ID1bXHJcbiAgICAgICAgbGFiQWdlbnQuUENfMDAwNSxcclxuICAgICAgICBsYWJBZ2VudC5QQ18wMDA2LFxyXG4gICAgICAgIGxhYkFnZW50LlBDXzAwMDcsXHJcbiAgICAgICAgbGFiQWdlbnQuUENfMDAwOCxcclxuICAgICAgICBsYWJBZ2VudC5QQ18wMDA5LFxyXG4gICAgICAgIGxhYkFnZW50LlBDXzAwMTAsXHJcbiAgICAgICAgbGFiQWdlbnQuUENfMDAxMSxcclxuICAgICAgICBsYWJBZ2VudC5QQ18wMDEyLFxyXG4gICAgICAgIGxhYkFnZW50LlBDXzAwMTMsXHJcbiAgICAgICAgbGFiQWdlbnQuUENfMDAxNCxcclxuICAgICAgICBsYWJBZ2VudC5QQ18wMDE1LFxyXG4gICAgICAgIGxhYkFnZW50LlBDXzAwMTYsXHJcbiAgICAgICAgbGFiQWdlbnQuUENfMDAxNyxcclxuICAgICAgICBsYWJBZ2VudC5QQ18wMDE4LFxyXG4gICAgXVxyXG4gICAgbGV0IGZpcnN0UUFfYW5zd2VyPSBcIlwiO1xyXG4gICAgYWdlbnRMaXN0ID0gYWdlbnRMaXN0LmNvbmNhdChhd2FpdCBJbml0QWdlbnREYXRhKHRlc3RBZ2VudCx7aXB2NDp7dWRwOnRydWUsdGNwOnRydWV9LGlwdjY6e3VkcDp0cnVlLHRjcDp0cnVlfX0sXCJpbmZvXCIsMSxMYWJTbkxpc3Qse30sZmlyc3RRQV9hbnN3ZXIsUmVzcF9lcF90eXBlLmFsbCkpXHJcbiAgICBmb3IobGV0IGkgaW4gYWdlbnRMaXN0KXtcclxuICAgICAgICBmb3IobGV0IGogaW4gYWdlbnRMaXN0KXtcclxuICAgICAgICAgICAgaWYoaSAhPSBqKXtcclxuICAgICAgICAgICAgICAgIC8vIE5BVOepv+mAj1xyXG4gICAgICAgICAgICAgICAgaWYoYWdlbnRMaXN0W2ldLk5BVCArIGFnZW50TGlzdFtqXS5OQVQgPDUgIHx8IFNhbWVSb3V0ZXIoYWdlbnRMaXN0W2ldLnJvdXRlciEsYWdlbnRMaXN0W2pdLnJvdXRlciEpICl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFza0xpc3QucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExOOntuYW1lOmAke3Rlc3RBZ2VudFtpXS50YWdzWzBdfV8wYCx0eXBlIDogdGVzdEFnZW50W2ldLnR5cGV9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUk46e25hbWU6YCR7dGVzdEFnZW50W2pdLnRhZ3NbMF19XzBgLHR5cGUgOiB0ZXN0QWdlbnRbal0udHlwZX0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0IDogNSo2MCoxMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0X3N0YXR1cyA6IEJEVEVSUk9SLnN1Y2Nlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOW7uueri+i/nuaOpVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTE46e25hbWU6YCR7dGVzdEFnZW50W2ldLnRhZ3NbMF19XzBgLHR5cGUgOiB0ZXN0QWdlbnRbaV0udHlwZX0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJOOntuYW1lOmAke3Rlc3RBZ2VudFtqXS50YWdzWzBdfV8wYCx0eXBlIDogdGVzdEFnZW50W2pdLnR5cGV9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogdGFza1R5cGUuY29ubmVjdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubl90YWcgOiBcImNvbm5lY3RfZnJpc3RcIiAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0IDogMzAqMTAwMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTaXplIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0OntlcnI6QkRURVJST1Iuc3VjY2Vzc30gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMTiDku44gUk4g5LiL6L29XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMTjp7bmFtZTpgJHt0ZXN0QWdlbnRbaV0udGFnc1swXX1fMGAsdHlwZSA6IHRlc3RBZ2VudFtpXS50eXBlfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUk46e25hbWU6YCR7dGVzdEFnZW50W2pdLnRhZ3NbMF19XzBgLHR5cGUgOiB0ZXN0QWdlbnRbal0udHlwZX0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgOiB0YXNrVHlwZS5zZW5kX2ZpbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0IDogMzAqMTAwMCwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVTaXplIDogMTAqMTAyNCoxMDI0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua1NpemUgOiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3Q6e2VycjpCRFRFUlJPUi5zdWNjZXNzfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJOIOS7jiBMTiDkuIvovb1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJOOntuYW1lOmAke3Rlc3RBZ2VudFtpXS50YWdzWzBdfV8wYCx0eXBlIDogdGVzdEFnZW50W2ldLnR5cGV9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMTjp7bmFtZTpgJHt0ZXN0QWdlbnRbal0udGFnc1swXX1fMGAsdHlwZSA6IHRlc3RBZ2VudFtqXS50eXBlfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA6IHRhc2tUeXBlLnNlbmRfZmlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgOiAzMCoxMDAwLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVNpemUgOiAxMCoxMDI0KjEwMjQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rU2l6ZSA6IDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdDp7ZXJyOkJEVEVSUk9SLnN1Y2Nlc3N9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgICBhd2FpdCBzbGVlcCgyMDAwKTtcclxuICAgIGxldCB0ZXN0UnVubmVyID0gbmV3IFRlc3RSdW5uZXIoX2ludGVyZmFjZSk7XHJcbiAgICBsZXQgdGVzdGNhc2U6VGVzdGNhc2UgPSB7XHJcbiAgICAgICAgVGVzdGNhc2VOYW1lOnRlc3RjYXNlTmFtZSxcclxuICAgICAgICB0ZXN0Y2FzZUlkIDogYCR7dGVzdGNhc2VOYW1lfV8ke0RhdGUubm93KCl9YCxcclxuICAgICAgICByZW1hcmsgOiBgIyDmk43kvZzmtYHnqIvvvJpcXG5cclxuICAgICAgICArICgxKSBMTuOAgVJOIOWIneWni+WMluWNj+iuruagiFxyXG4gICAgICAgICsgKDIpIExOIHRyYWNr5LiK5Lyg5LiA5LiqMTBNYuaWh+S7tu+8jFJOIOi/m+ihjEludGVyZXN0XHJcbiAgICAgICAgKyAoMykgUk4gdHJhY2vkuIrkvKDkuIDkuKoxME1i5paH5Lu277yMTE4g6L+b6KGMSW50ZXJlc3RcXG5gLFxyXG4gICAgICAgIGVudmlyb25tZW50IDogXCJsYWJcIixcclxuICAgICAgICBhZ2VudExpc3QsXHJcbiAgICAgICAgdGFza0xpc3QsXHJcbiAgICAgICAgdGFza011bHQ6MTBcclxuICAgIH1cclxuICAgIFxyXG4gICAgYXdhaXQgdGVzdFJ1bm5lci50ZXN0Q2FzZVJ1bm5lcih0ZXN0Y2FzZSk7XHJcbn1cclxuIl19
